<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css">
    <title>Завдання №3</title>
</head>
<body>
    <header class="header">
        <h1 class="header__title-r">ЗАВДАННЯ №3</h1>
    </header>
    <div class="wrapper">
        <h2 class="wrapper__title">Створити клас Нагадувач. Кожні вказані кількості секунд (використати setInterval) програма нагадує про якусь подію (це просто текст) і також виводиться порядковий номер скільки раз вже нагадування було. Зробити так, щоб неможна було зробити одночасно декілька об’єктів-нагадувачів. Методи зупинки таймера, метод зміни повідомлення без зупинки таймера.</h2>
        <div class="wrapper__result">
            <script>
            /*
            клас нагадувач
            поля:
            -нагадувач
            -каунтер
            -інтервал
            -повідомлення

            методи:
            - Кожні вказані кількості секунд (використати setInterval) програма нагадує про якусь подію (це просто текст) і також виводиться порядковий номер скільки раз вже нагадування було.
            - Зробити так, щоб неможна було зробити одночасно декілька об’єктів-нагадувачів.
            - Методи зупинки таймера
            - метод зміни повідомлення без зупинки таймера.
            */
            
            class Reminder{
                static reminder
                static count = 0

                constructor(time, message){
                    if(Reminder.reminder) return Reminder.reminder
                    this.time = time
                    this.message = message
                    Reminder.reminder = this
                }

                showMessage(){
                    return alert(`повідомлення номер: ${Reminder.count} - ${this.message}`)
                }

                getChengeMessage(newMessage){
                    this.message=newMessage
                }

                getStopReminder(interval){
                    if(confirm('Ви посміхнулись?')) 
                    clearInterval(interval)
                }

                getReminder(){
                    let getTimer = setInterval(
                        () => {Reminder.count++ ;this.showMessage(); this.getStopReminder(getTimer);}, this.time * 1000
                    )
                    return getTimer
                }
            }
            let reminder1 = new Reminder(4, 'Посміхнись')

            reminder1.getReminder()
            reminder1.getChengeMessage('Посміхнись)')
            </script>
        </div>
        <a class="link__back" href="./task3.html">Cпробувати ще раз</a>
    </div>
    <a class="link__back" href="../index.html">Повернутись до завдань</a>
    </footer>
    
</body>
</html>