<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/style.css">
    <title>Завдання №5</title>
</head>
<body>
    <header class="header">
        <h1 class="header__title-r">ЗАВДАННЯ №5</h1>
    </header>
    <div class="wrapper">
        <h2 class="wrapper__title">Морський бій. Користувач вводить кількість клітинок одновимірного масиву та кількість одиночних кораблів. Комп’ютер довільно розміщує ці одиночні кораблі у масиві по один у клітинці (якщо у клітинці 0, то клітинка пуста, якщо 1 – то це означає, що там є корабель. Користувач вводить номер клітинки, куди стріляє. Гра продовжується до тих пір, поки не будуть потоплені усі кораблі.</h2>
        <div class="wrapper__result">
            <script>
                //ф-ція
                //створення поля
                function fieldCreation(battlefield) {
                    let arrBattlefield = []
                    for(let i = 0; i<battlefield; i++){
                        arrBattlefield.push(0)
                    }
                    return arrBattlefield
                }

                //розставляємо кораблі
                function placeShips(ships, battlefield) {
                    
                    let arrShipsPosition = fieldCreation(battlefield)
                    for (let i = 0; i < ships; i++) {
                        let position = Math.floor(Math.random() * battlefield)
                            while(arrShipsPosition[position]!==0){
                                position = (position + 1) % battlefield;
                            }
                            arrShipsPosition[position] = 1
                        
                    }
                    return arrShipsPosition
                }

                //постріл
                function fire(arrShips,battlefield,ships) {
                    do {
                        const shot = parseInt(prompt(`Введіть номер клітинки для пострілу від 1 до ${battlefield}:`))
                        if(arrShips[shot - 1]===1){
                            alert(`Вітаю, ви влучили! Залишилось ${ships-=1} кораблів.`)
                            arrShips[shot-1] = 0
                        }else alert('Не влучив!')
                    } while (ships>0);
                    document.write('Вітаю, гра завершена!')
                }

                //введення
                const battlefield = parseInt(prompt('Введіть кількіст клітинок поля бою:'))
                let ships = parseInt(prompt('Введіть кількіст кораблів:'))
                const arrShips = placeShips(ships, battlefield) 

                //виведення
                document.write(`
                Позиції кораблів ${placeShips(ships, battlefield)}<br>
                `)

                fire(arrShips,battlefield,ships)
            </script>
        </div>
        <a class="link__back" href="./task5.html">Cпробувати ще раз</a>
    </div>
    <a class="link__back" href="../index.html">Повернутись до завдань</a>
    <footer class="footer">
    </footer>
    
</body>
</html>
